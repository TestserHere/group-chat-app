(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){e.exports=a(29)},23:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(11),r=a.n(s),o=(a(23),a(12)),m=a(5);a(28);const l=Object(o.a)({apiKey:"AIzaSyAThnPos7CBAUo9KU00soMwOgx0vFXVmL8",authDomain:"groupchatapp-12918.firebaseapp.com",projectId:"groupchatapp-12918",storageBucket:"groupchatapp-12918.firebasestorage.app",messagingSenderId:"312169425350",appId:"1:312169425350:web:26dca269b31fbb407baac7",measurementId:"G-7XDHBHSCZD"}),u=Object(m.d)(l);function i(){const[e,t]=Object(n.useState)(""),[a,s]=Object(n.useState)(""),[r,o]=Object(n.useState)(""),[l,i]=Object(n.useState)([]),[b,p]=Object(n.useState)([]),[d,g]=Object(n.useState)(localStorage.getItem("username")||""),[E,h]=Object(n.useState)(!!localStorage.getItem("username"));Object(n.useEffect)(()=>{(async()=>{const e=await Object(m.c)(Object(m.a)(u,"chatrooms"));p(e.docs.map(e=>e.id))})()},[]),Object(n.useEffect)(()=>{if(e){const t=Object(m.g)(Object(m.a)(u,e),Object(m.f)("timestamp","asc")),a=Object(m.e)(t,e=>{i(e.docs.map(e=>e.data()))});return()=>a()}},[e]);const j=async()=>{e&&r.trim()&&(await Object(m.h)(Object(m.b)(u,e,(new Date).getTime().toString()),{text:r,timestamp:(new Date).getTime(),user:d}),o(""))};return c.a.createElement("div",{className:"container mt-4"},c.a.createElement("h1",{className:"text-center mb-4"},"Group Chat"),E?e?c.a.createElement("div",{className:"card p-4 shadow-sm"},c.a.createElement("p",{className:"text-center"},"Room Code: ",c.a.createElement("span",{className:"badge bg-secondary"},e)),c.a.createElement("div",{className:"messages-box border p-3 mb-3",style:{maxHeight:"300px",overflowY:"auto"}},l.map((e,t)=>c.a.createElement("div",{key:t,className:`d-flex ${e.user===d?"justify-content-end":"justify-content-start"}`},c.a.createElement("div",{className:`alert ${e.user===d?"alert-primary":"alert-secondary"} text-wrap`},c.a.createElement("strong",null,e.user,": ")," ",e.text)))),c.a.createElement("div",{className:"input-group"},c.a.createElement("input",{className:"form-control",placeholder:"Type a message",value:r,onChange:e=>o(e.target.value),onKeyPress:e=>{"Enter"===e.key&&j()}}),c.a.createElement("button",{onClick:j,className:"btn btn-success"},"Send"))):c.a.createElement("div",{className:"card p-4 shadow-sm"},c.a.createElement("input",{className:"form-control mb-2",placeholder:"Enter Custom Room Code",value:a,onChange:e=>s(e.target.value)}),c.a.createElement("button",{onClick:async()=>{a.trim()&&(await Object(m.h)(Object(m.b)(u,"chatrooms",a),{id:a}),t(a))},className:"btn btn-primary w-100"},"Create Chat Room"),c.a.createElement("h2",{className:"mt-4"},"Join an Existing Room"),c.a.createElement("ul",{className:"list-group"},b.map(e=>c.a.createElement("li",{key:e,className:"list-group-item d-flex justify-content-between"},c.a.createElement("span",null,e),c.a.createElement("button",{onClick:()=>(e=>{t(e)})(e),className:"btn btn-secondary"},"Join"))))):c.a.createElement("div",{className:"card p-4 shadow-sm"},c.a.createElement("input",{className:"form-control mb-2",placeholder:"Enter a username",value:d,onChange:e=>g(e.target.value)}),c.a.createElement("button",{onClick:()=>{d.trim()&&(localStorage.setItem("username",d),setTimeout(()=>h(!0),100))},className:"btn btn-primary w-100"},"Set Username")))}var b=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,30)).then(t=>{let{getCLS:a,getFID:n,getFCP:c,getLCP:s,getTTFB:r}=t;a(e),n(e),c(e),s(e),r(e)})};r.a.createRoot(document.getElementById("root")).render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(i,null))),b()}},[[14,1,2]]]);
//# sourceMappingURL=main.df9bcb71.chunk.js.map