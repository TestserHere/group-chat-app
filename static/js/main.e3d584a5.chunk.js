(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){e.exports=a(29)},23:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(11),r=a.n(s),o=(a(23),a(12)),m=a(5);a(28);const l=Object(o.a)({apiKey:"AIzaSyAThnPos7CBAUo9KU00soMwOgx0vFXVmL8",authDomain:"groupchatapp-12918.firebaseapp.com",projectId:"groupchatapp-12918",storageBucket:"groupchatapp-12918.firebasestorage.app",messagingSenderId:"312169425350",appId:"1:312169425350:web:26dca269b31fbb407baac7",measurementId:"G-7XDHBHSCZD"}),i=Object(m.d)(l);function u(){const[e,t]=Object(c.useState)(""),[a,s]=Object(c.useState)(""),[r,o]=Object(c.useState)(""),[l,u]=Object(c.useState)([]),[p,b]=Object(c.useState)([]);Object(c.useEffect)(()=>{(async()=>{const e=await Object(m.c)(Object(m.a)(i,"chatrooms"));b(e.docs.map(e=>e.id))})()},[]),Object(c.useEffect)(()=>{if(e){const t=Object(m.g)(Object(m.a)(i,e),Object(m.f)("timestamp","asc")),a=Object(m.e)(t,e=>{u(e.docs.map(e=>e.data()))});return()=>a()}},[e]);return n.a.createElement("div",{className:"container mt-4"},n.a.createElement("h1",{className:"text-center mb-4"},"Group Chat"),e?n.a.createElement("div",{className:"card p-4 shadow-sm"},n.a.createElement("p",{className:"text-center"},"Room Code: ",n.a.createElement("span",{className:"badge bg-secondary"},e)),n.a.createElement("div",{className:"messages-box border p-3 mb-3",style:{maxHeight:"300px",overflowY:"auto"}},l.map((e,t)=>n.a.createElement("div",{key:t,className:`d-flex ${"User"===e.user?"justify-content-start":"justify-content-end"}`},n.a.createElement("div",{className:`alert ${"User"===e.user?"alert-primary":"alert-secondary"} text-wrap`},e.text)))),n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{className:"form-control",placeholder:"Type a message",value:r,onChange:e=>o(e.target.value)}),n.a.createElement("button",{onClick:async()=>{e&&r.trim()&&(await Object(m.h)(Object(m.b)(i,e,(new Date).getTime().toString()),{text:r,timestamp:(new Date).getTime(),user:"User"}),o(""))},className:"btn btn-success"},"Send"))):n.a.createElement("div",{className:"card p-4 shadow-sm"},n.a.createElement("input",{className:"form-control mb-2",placeholder:"Enter Custom Room Code",value:a,onChange:e=>s(e.target.value)}),n.a.createElement("button",{onClick:async()=>{a.trim()&&(await Object(m.h)(Object(m.b)(i,"chatrooms",a),{id:a}),t(a))},className:"btn btn-primary w-100"},"Create Chat Room"),n.a.createElement("h2",{className:"mt-4"},"Join an Existing Room"),n.a.createElement("ul",{className:"list-group"},p.map(e=>n.a.createElement("li",{key:e,className:"list-group-item d-flex justify-content-between"},n.a.createElement("span",null,e),n.a.createElement("button",{onClick:()=>(e=>{t(e)})(e),className:"btn btn-secondary"},"Join"))))))}var p=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,30)).then(t=>{let{getCLS:a,getFID:c,getFCP:n,getLCP:s,getTTFB:r}=t;a(e),c(e),n(e),s(e),r(e)})};r.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(u,null))),p()}},[[14,1,2]]]);
//# sourceMappingURL=main.e3d584a5.chunk.js.map